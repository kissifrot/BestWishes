{% set attrib = gift.surprise ? ['OWNER', 'EDIT', 'SURPRISE_ADD'] : ['OWNER', 'EDIT'] %}
{% if is_multi_granted(attrib, gift.category.list) %}
    <a href="{{ path('gift_edit', { id: gift.id }) }}" class="btn btn-primary">
        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>&nbsp;{{ 'gift.action.edit'|trans }}
    </a>
    <button class="btn btn-primary js-gift-delete">
        <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>&nbsp;{{ 'gift.action.delete'|trans }}
    </button>
{% endif %}
{% if is_granted('SURPRISE_ADD', gift.category.list) and not gift.bought %}
    <button class="btn btn-primary js-gift-mark-bought">
        <span class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></span>&nbsp;{{ 'gift.action.mark_bought'|trans }}
    </button>
{% endif %}
{% if is_multi_granted(attrib, gift.category.list) and not gift.received %}
    <button class="btn btn-primary js-gift-mark-received">
        <span class="glyphicon glyphicon-gift" aria-hidden="true"></span>&nbsp;{{ 'gift.action.mark_received'|trans }}
    </button>
{% endif %}
